Return-Path: <linux-usb-owner@vger.kernel.org>
X-Original-To: lists+linux-usb@lfdr.de
Delivered-To: lists+linux-usb@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 5D2A82B0DCE
	for <lists+linux-usb@lfdr.de>; Thu, 12 Nov 2020 20:23:12 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726711AbgKLTXD (ORCPT <rfc822;lists+linux-usb@lfdr.de>);
        Thu, 12 Nov 2020 14:23:03 -0500
Received: from netrider.rowland.org ([192.131.102.5]:39061 "HELO
        netrider.rowland.org" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with SMTP id S1726629AbgKLTXD (ORCPT
        <rfc822;linux-usb@vger.kernel.org>); Thu, 12 Nov 2020 14:23:03 -0500
Received: (qmail 287939 invoked by uid 1000); 12 Nov 2020 14:23:02 -0500
Date:   Thu, 12 Nov 2020 14:23:02 -0500
From:   Alan Stern <stern@rowland.harvard.edu>
To:     John Boero <boeroboy@gmail.com>
Cc:     Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Felipe Balbi <balbi@kernel.org>, linux-usb@vger.kernel.org,
        linux-kernel@vger.kernel.org
Subject: Re: [PATCH] usb: core: Null deref in kernel with USB webcams.
Message-ID: <20201112192302.GA287229@rowland.harvard.edu>
References: <CAO5W59jOWuRKizngF8vv9jb-zr_HnLC2eNxKqi3AYwg8KLwKoA@mail.gmail.com>
 <X61rce8GANHW1ysh@kroah.com>
 <CAO5W59iGm3kN-HhA_g78iJH9cV3fHzjQORM_b3xqo1Mg+XEi2g@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <CAO5W59iGm3kN-HhA_g78iJH9cV3fHzjQORM_b3xqo1Mg+XEi2g@mail.gmail.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Precedence: bulk
List-ID: <linux-usb.vger.kernel.org>
X-Mailing-List: linux-usb@vger.kernel.org

On Thu, Nov 12, 2020 at 05:13:30PM +0000, John Boero wrote:
> Sorry header was generated by git email and I should have
> paid closer attention to it before sending.
> Long time listener, first time caller.
> 
> Yes the patch is backwards sorry.  Testing alt proposal from
> stern@rowland.harvard.edu.  It may be a buggy driver
> but it would be nice if a buggy driver couldn't bring down
> the entire usb core. lsusb hangs until reboot or reset of usb.
> 
> It seems to behave fine on first use.  Run Zoom or cheese
> works fine first time.  Subsequent runs, no device found
> and usb is crashed with trace in dmesg.

The whole point of asking you to try out that change was to see the 
trace in dmesg.  What does it say?

Alan Stern
