Return-Path: <linux-usb+bounces-23613-lists+linux-usb=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-usb@lfdr.de
Delivered-To: lists+linux-usb@lfdr.de
Received: from ny.mirrors.kernel.org (ny.mirrors.kernel.org [147.75.199.223])
	by mail.lfdr.de (Postfix) with ESMTPS id F3259AA6783
	for <lists+linux-usb@lfdr.de>; Fri,  2 May 2025 01:43:10 +0200 (CEST)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ny.mirrors.kernel.org (Postfix) with ESMTPS id 649AA462D85
	for <lists+linux-usb@lfdr.de>; Thu,  1 May 2025 23:43:11 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id B9C26266B7E;
	Thu,  1 May 2025 23:43:06 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="pESy093I"
X-Original-To: linux-usb@vger.kernel.org
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 3EC15126BF1
	for <linux-usb@vger.kernel.org>; Thu,  1 May 2025 23:43:06 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1746142986; cv=none; b=ewGcOXXDxnkaxmUezXuW7IOC+HXHfgtJS4cXl5fOv6aknQSrNk7bSDfj3Vnw8xd13DOOhxeUm16bFUnpb0xRqbpE5LYgsu4pEjM5+gM3vvBTiXqpu3nm4S97Cx5vke+Nmk+sUiLYM8dyHcZEpSJUBTURnyYBBWMEDw2KXoXGE6s=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1746142986; c=relaxed/simple;
	bh=ctWGwWJt3TvwaCvCdw3TBWUhQbaPm8M4vuBazj2Vd5c=;
	h=From:To:Subject:Date:Message-ID:In-Reply-To:References:
	 Content-Type:MIME-Version; b=XLL0w0iljQe7kCYvZJ82IbOfYklCWTsIJf6bVUrKtwarn9qo2fRnkUBWaOetdACMbO2cU591ArK5nfkHaY9+XdKw9fwOMuLpyaK6hUG4n5lGkcvKDGyn6xGea2kFMc1/Gd8E6Mi1n81YVKfKNzG2D6cZxPHUVJ528/207LqHzR8=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=pESy093I; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPS id 0AC85C4CEED
	for <linux-usb@vger.kernel.org>; Thu,  1 May 2025 23:43:06 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1746142986;
	bh=ctWGwWJt3TvwaCvCdw3TBWUhQbaPm8M4vuBazj2Vd5c=;
	h=From:To:Subject:Date:In-Reply-To:References:From;
	b=pESy093IAVf1NEw3vATS69hodNOGIuASbDCTURZzz+LSZusGJqdcLrlTeVZEJdeHR
	 6GqdhXI5pI3d+NMscbxBwQ22CVeFS4hK5TP5N4F/BYqPYbj1Y69NGZ9ZnSURNq2J3M
	 GPH1oj2plLhQCHJhmtQN+Etf6lGgOLNhUrZoJhv74btL3nSgkzPgjC2Z5aTVo7b4UV
	 1ARZM1Xax/VEmu7iQNXzo44p2tXHnLcZHZc913GPTuFMapyOnhn3G4KmU0SI8wc/Wt
	 7/SDjRXvCeT5XiTmUQwOjhJOd2igFIrigfM+SF0TebzqYAoQaB03hwpfGkQHwPEhGs
	 N9w+yapGgWTvA==
Received: by aws-us-west-2-korg-bugzilla-1.web.codeaurora.org (Postfix, from userid 48)
	id F0B7CC41612; Thu,  1 May 2025 23:43:05 +0000 (UTC)
From: bugzilla-daemon@kernel.org
To: linux-usb@vger.kernel.org
Subject: [Bug 220069] [6.13.9] regression USB controller dies
Date: Thu, 01 May 2025 23:43:05 +0000
X-Bugzilla-Reason: None
X-Bugzilla-Type: changed
X-Bugzilla-Watch-Reason: AssignedTo drivers_usb@kernel-bugs.kernel.org
X-Bugzilla-Product: Drivers
X-Bugzilla-Component: USB
X-Bugzilla-Version: 2.5
X-Bugzilla-Keywords: 
X-Bugzilla-Severity: normal
X-Bugzilla-Who: michal.pecio@gmail.com
X-Bugzilla-Status: NEW
X-Bugzilla-Resolution: 
X-Bugzilla-Priority: P3
X-Bugzilla-Assigned-To: drivers_usb@kernel-bugs.kernel.org
X-Bugzilla-Flags: 
X-Bugzilla-Changed-Fields: 
Message-ID: <bug-220069-208809-lAZTQqY18l@https.bugzilla.kernel.org/>
In-Reply-To: <bug-220069-208809@https.bugzilla.kernel.org/>
References: <bug-220069-208809@https.bugzilla.kernel.org/>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Bugzilla-URL: https://bugzilla.kernel.org/
Auto-Submitted: auto-generated
Precedence: bulk
X-Mailing-List: linux-usb@vger.kernel.org
List-Id: <linux-usb.vger.kernel.org>
List-Subscribe: <mailto:linux-usb+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-usb+unsubscribe@vger.kernel.org>
MIME-Version: 1.0

https://bugzilla.kernel.org/show_bug.cgi?id=3D220069

--- Comment #17 from Micha=C5=82 Pecio (michal.pecio@gmail.com) ---
Actually, I think it would still work if you mount debugfs after the fact.
These files are generated by the driver from data which already exist in me=
mory
and will only be lost after unbind. But no problem, looks like the same thi=
ng
is happening every few days.

(In reply to Claudio Wunder from comment #14)
> For example, Audio on my RodeCaster Duo and Bluetooth keep working when t=
hat
> said crash happens (not sure if this is important info), but all other
> devices (like my mouse, keyboard) stop working (I already tried to plug on
> different front ports, but not rear ports)
The devices which stop working are exactly those connected to the controller
which fails. And the problem source is also somewhere there. There is somet=
hing
suspicious about the 8-3 hub which is always undergoing a reset when the HC
dies, and it is those commands which appear to be timing out and then refus=
ing
to abort.

Not sure if it's the cause or a symptom, maybe try to request a reset manua=
lly
a few times? The 'usbutils' packages which provides 'lsusb' should also have
'usbreset', this will do the business:

sudo usbreset 2109:0817

Or exercise this hub a little by asking it to reset its child device. There=
 is
another hub connected to it with different ID:

sudo usbreset 2109:0211

(BTW, bus 7 is the USB 2.0 part of bus 8, and devices seen on both 7 and 8 =
are
USB 3.x hubs).

--=20
You may reply to this email to add a comment.

You are receiving this mail because:
You are watching the assignee of the bug.=

